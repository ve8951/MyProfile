window.Modernizr=function(t,e,i){function n(t){v.cssText=t}function s(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function o(t,e){for(var n in t){var s=t[n];if(!r(s,"-")&&v[s]!==i)return"pfx"==e?s:!0}return!1}function a(t,e,n){for(var r in t){var o=e[t[r]];if(o!==i)return n===!1?t[r]:s(o,"function")?o.bind(n||e):o}return!1}function l(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+$.join(n+" ")+n).split(" ");return s(e,"string")||s(e,"undefined")?o(r,e):(r=(t+" "+b.join(n+" ")+n).split(" "),a(r,e,i))}var u,f,h,d="2.6.2",c={},p=!0,m=e.documentElement,y="modernizr",_=e.createElement(y),v=_.style,g=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),T="Webkit Moz O ms",$=T.split(" "),b=T.toLowerCase().split(" "),z={},C=[],w=C.slice,E=function(t,i,n,s){var r,o,a,l,u=e.createElement("div"),f=e.body,h=f||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=s?s[n]:y+(n+1),u.appendChild(a);return r=["&#173;",'<style id="s',y,'">',t,"</style>"].join(""),u.id=y,(f?u:h).innerHTML+=r,h.appendChild(u),f||(h.style.background="",h.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(h)),o=i(u,t),f?u.parentNode.removeChild(u):(h.parentNode.removeChild(h),m.style.overflow=l),!!o},S={}.hasOwnProperty;h=s(S,"undefined")||s(S.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return S.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=w.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var r=new s,o=e.apply(r,i.concat(w.call(arguments)));return Object(o)===o?o:r}return e.apply(t,i.concat(w.call(arguments)))};return n}),z.csstransforms=function(){return!!l("transform")},z.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in m.style&&E("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},z.csstransitions=function(){return l("transition")};for(var x in z)h(z,x)&&(f=x.toLowerCase(),c[f]=z[x](),C.push((c[f]?"":"no-")+f));return c.addTest=function(t,e){if("object"==typeof t)for(var n in t)h(t,n)&&c.addTest(n,t[n]);else{if(t=t.toLowerCase(),c[t]!==i)return c;e="function"==typeof e?e():e,"undefined"!=typeof p&&p&&(m.className+=" "+(e?"":"no-")+t),c[t]=e}return c},n(""),_=u=null,c._version=d,c._prefixes=g,c._domPrefixes=b,c._cssomPrefixes=$,c.testProp=function(t){return o([t])},c.testAllProps=l,c.testStyles=E,c.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+C.join(" "):""),c}(this,this.document),function(t){"function"==typeof define&&define.amd?define(["jquery","modernizr"],t):t(window.jQuery,window.Modernizr)}(function(t,e,i){"use strict";function n(t){return t?t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"):""}function s(e,i,n){var s,r,o,a=null,l=0;n=n||{};var u=function(){l=n.leading===!1?0:t.now(),a=null,o=e.apply(s,r),s=r=null};return function(){var f=t.now();l||n.leading!==!1||(l=f);var h=i-(f-l);return s=this,r=arguments,0>=h||h>i?(clearTimeout(a),a=null,l=f,o=e.apply(s,r),s=r=null):a||n.trailing===!1||(a=setTimeout(u,h)),o}}if("object"!=typeof e)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var r=e.prefixed("transition"),o=e.prefixed("transitionDelay"),a=e.prefixed("transitionDuration"),l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],u=e.prefixed("transform"),f=n(u),h=e.csstransforms&&e.csstransitions,d=e.csstransforms3d,c="shuffle",p="all",m="groups",y=1,_=.001,v=0,g=function(e,i){i=i||{},t.extend(this,g.options,i,g.settings),this.$el=t(e),this.$window=t(window),this.unique="shuffle_"+v++,this._fire(g.EventType.LOADING),this._init(),setTimeout(t.proxy(function(){this.initialized=!0,this._fire(g.EventType.DONE)},this),16)};return g.EventType={LOADING:"loading",DONE:"done",SHRINK:"shrink",SHRUNK:"shrunk",FILTER:"filter",FILTERED:"filtered",SORTED:"sorted",LAYOUT:"layout",REMOVED:"removed"},g.prototype={_init:function(){var e,i,n=this,s=t.proxy(n._onResize,n),o=n.throttle?n.throttle(s,n.throttleTime):s,a=n.initialSort?n.initialSort:null;n._layoutList=[],n._shrinkList=[],n._setVars(),n._resetCols(),n._addClasses(),n._initItems(),n.$window.on("resize."+c+"."+n.unique,o),e=n.$el.css(["paddingLeft","paddingRight","position"]),i=n._getOuterWidth(n.$el[0]),"static"===e.position&&(n.$el[0].style.position="relative"),n.offset={left:parseInt(e.paddingLeft,10)||0,top:parseInt(e.paddingTop,10)||0},n._setColumns(parseInt(i,10)),n.shuffle(n.group,a),n.supported&&setTimeout(function(){n._setTransitions(),n.$el[0].style[r]="height "+n.speed+"ms "+n.easing},0)},_addClasses:function(){this.$el.addClass(c),this.$items.addClass("shuffle-item filtered")},_setVars:function(){var e=this,i=e.columnWidth;e.$items=e._getItems(),0===i&&null!==e.sizer&&(i=e.sizer),"string"==typeof i?e.$sizer=e.$el.find(i):i&&i.nodeType&&1===i.nodeType?e.$sizer=t(i):i&&i.jquery&&(e.$sizer=i),e.$sizer&&e.$sizer.length&&(e.useSizer=!0,e.sizer=e.$sizer[0])},_filter:function(e,n){var s=this,r=n!==i,o=r?n:s.$items,a=t();return e=e||s.lastFilter,s._fire(g.EventType.FILTER),t.isFunction(e)?o.each(function(){var i=t(this);e.call(i[0],i,s)&&(a=a.add(i))}):(s.group=e,e===p?a=o:o.each(function(){var i=t(this),n=i.data(m),r=s.delimeter&&!t.isArray(n)?n.split(s.delimeter):n;t.inArray(e,r)>-1&&(a=a.add(i))})),s._toggleFilterClasses(o,a),o=null,n=null,a},_toggleFilterClasses:function(e,i){var n="concealed",s="filtered";e.filter(i).each(function(){var e=t(this);e.hasClass(n)&&e.removeClass(n),e.hasClass(s)||e.addClass(s)}),e.not(i).each(function(){var e=t(this);e.hasClass(n)||e.addClass(n),e.hasClass(s)&&e.removeClass(s)})},_initItems:function(t){t=t||this.$items,t.css(this.itemCss).data("position",{x:0,y:0})},_updateItemCount:function(){this.visibleItems=this.$items.filter(".filtered").length},_setTransition:function(t){t.style[r]=f+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},_setTransitions:function(t){var e=this;t=t||e.$items,t.each(function(){e._setTransition(this)})},_setSequentialDelay:function(e){var i=this;i.supported&&t.each(e,function(e,n){n.style[o]="0ms,"+(e+1)*i.sequentialFadeDelay+"ms",t(n).on(l+"."+i.unique,function(e){var n=e.currentTarget;n===e.target&&(n.style[o]="0ms",t(n).off(l+"."+i.unique))})})},_getItems:function(){return this.$el.children(this.itemSelector)},_getPreciseDimension:function(e,i){var n;return n=window.getComputedStyle?window.getComputedStyle(e,null)[i]:t(e).css(i),parseFloat(n)},_getOuterWidth:function(e,i){var n=e.offsetWidth;if(i){var s=t(e).css(["marginLeft","marginRight"]),r=parseFloat(s.marginLeft)||0,o=parseFloat(s.marginRight)||0;n+=r+o}return n},_getOuterHeight:function(e,i){var n=e.offsetHeight;if(i){var s=t(e).css(["marginTop","marginBottom"]),r=parseFloat(s.marginTop)||0,o=parseFloat(s.marginBottom)||0;n+=r+o}return n},_getColumnSize:function(e,i){var n;return n=t.isFunction(this.columnWidth)?this.columnWidth(i):this.useSizer?this._getPreciseDimension(this.sizer,"width"):this.columnWidth?this.columnWidth:this.$items.length>0?this._getOuterWidth(this.$items[0],!0):i,0===n&&(n=i),n+e},_getGutterSize:function(e){var i;return i=t.isFunction(this.gutterWidth)?this.gutterWidth(e):this.useSizer?this._getPreciseDimension(this.sizer,"marginLeft"):this.gutterWidth},_setColumns:function(t){var e=t||this._getOuterWidth(this.$el[0]),i=this._getGutterSize(e),n=this._getColumnSize(i,e),s=(e+i)/n;Math.abs(Math.round(s)-s)<.03&&(s=Math.round(s)),this.cols=Math.max(Math.floor(s),1),this.containerWidth=e,this.colWidth=n},_setContainerSize:function(){this.$el.css("height",Math.max.apply(Math,this.colYs))},_fire:function(t,e){this.$el.trigger(t+"."+c,e&&e.length?e:[this])},_layout:function(e,i,n){var s=this;i=i||s._filterEnd,t.each(e,function(e,r){var o=t(r),a=o.data(),l=a.position,u=s._getItemPosition(o);if(o.data("position",u),u.x!==l.x||u.y!==l.y||a.scale!==y){var f={$item:o,x:u.x,y:u.y,scale:y};n?(f.skipTransition=!0,f.opacity=0):(f.opacity=1,f.callback=i),s.styleQueue.push(f),s._layoutList.push(o[0])}}),s._processStyleQueue(),s._setContainerSize()},_resetCols:function(){var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0)},_reLayout:function(){this._resetCols(),this.lastSort?this.sort(this.lastSort,!0):this._layout(this.$items.filter(".filtered").get(),this._filterEnd)},_getItemPosition:function(t){var e=this,i=e._getOuterWidth(t[0],!0),n=i/e.colWidth;Math.abs(Math.round(n)-n)<.03&&(n=Math.round(n));var s=Math.min(Math.ceil(n),e.cols);if(1===s)return e._placeItem(t,e.colYs);var r,o,a=e.cols+1-s,l=[];for(o=0;a>o;o++)r=e.colYs.slice(o,o+s),l[o]=Math.max.apply(Math,r);return e._placeItem(t,l)},_placeItem:function(t,e){for(var i=this,n=Math.min.apply(Math,e),s=0,r=0,o=e.length;o>r;r++)if(e[r]>=n-i.buffer&&e[r]<=n+i.buffer){s=r;break}var a={x:Math.round(i.colWidth*s+i.offset.left),y:Math.round(n+i.offset.top)},l=n+i._getOuterHeight(t[0],!0),u=i.cols+1-o;for(r=0;u>r;r++)i.colYs[s+r]=l;return a},_shrink:function(e,i){var n=this,s=e||n.$items.filter(".concealed");i=i||n._shrinkEnd,s.length&&(n._fire(g.EventType.SHRINK),s.each(function(){var e=t(this),s=e.data(),r=s.scale===_;if(!r){var o={$item:e,x:s.position.x,y:s.position.y,scale:_,opacity:0,callback:i};n.styleQueue.push(o),n._shrinkList.push(e[0])}}))},_onResize:function(){if(this.enabled&&!this.destroyed){var t=this._getOuterWidth(this.$el[0]);t!==this.containerWidth&&this.resized()}},_getItemTransformString:function(t,e,i){return d?"translate3d("+t+"px, "+e+"px, 0) scale3d("+i+", "+i+", 1)":"translate("+t+"px, "+e+"px) scale("+i+", "+i+")"},_getStylesForTransition:function(t){var e={opacity:t.opacity};return this.supported?t.x!==i&&(e[u]=this._getItemTransformString(t.x,t.y,t.scale)):(e.left=t.x,e.top=t.y),1===t.opacity&&(e.visibility="visible"),e},_transition:function(t){t.$item.data("scale",t.scale);var e=this._getStylesForTransition(t);this._startItemAnimation(t.$item,e,t.callback)},_startItemAnimation:function(e,i,n){var s=1===i.opacity,r=t.proxy(this._handleItemAnimationEnd,this,n||t.noop,e[0],s);this.supported?(e.css(i),this.initialized?e.on(l+".shuffleitem",r):r()):("visibility"in i&&(e.css("visibility",i.visibility),delete i.visibility),e.stop(!0).animate(i,this.speed,"swing",r))},_handleItemAnimationEnd:function(e,i,n,s){if(s){if(s.target!==i)return;t(i).off(".shuffleitem")}this._layoutList.length>0&&t.inArray(i,this._layoutList)>-1?(this._fire(g.EventType.LAYOUT),e.call(this),this._layoutList.length=0):this._shrinkList.length>0&&t.inArray(i,this._shrinkList)>-1&&(e.call(this),this._shrinkList.length=0),n||(i.style.visibility="hidden")},_processStyleQueue:function(){var e=this;t.each(this.styleQueue,function(t,i){i.skipTransition?e._skipTransition(i.$item[0],function(){i.$item.css(e._getStylesForTransition(i))}):e._transition(i)}),e.styleQueue.length=0},_shrinkEnd:function(){this._fire(g.EventType.SHRUNK)},_filterEnd:function(){this._fire(g.EventType.FILTERED)},_sortEnd:function(){this._fire(g.EventType.SORTED)},_skipTransition:function(e,i,n){var s=e.style[a];e.style[a]="0ms",t.isFunction(i)?i():e.style[i]=n;var r=e.offsetWidth;r=null,e.style[a]=s},_addItems:function(t,e,n){var s=this;s.supported||(e=!1),t.addClass("shuffle-item"),s._initItems(t),s._setTransitions(t),s.$items=s._getItems(),t.css("opacity",0);var r=s._filter(i,t),o=r.get();s._updateItemCount(),e?(s._layout(o,null,!0),n&&s._setSequentialDelay(r),s._revealAppended(r)):s._layout(o)},_revealAppended:function(e){var i=this;setTimeout(function(){e.each(function(e,n){i._transition({$item:t(n),opacity:1,scale:y})})},i.revealAppendedDelay)},shuffle:function(t,e){var i=this;i.enabled&&(t||(t=p),i._filter(t),i.lastFilter=t,i._updateItemCount(),i._shrink(),e&&(i.lastSort=e),i._reLayout())},sort:function(t,e){var i=this,n=i.$items.filter(".filtered").sorted(t);e||i._resetCols(),i._layout(n,function(){e&&i._filterEnd(),i._sortEnd()}),i.lastSort=t},resized:function(t){this.enabled&&(t||this._setColumns(),this._reLayout())},layout:function(){this.update(!0)},update:function(t){this.resized(t)},appended:function(t,e,i){e=e===!1?!1:!0,i=i===!1?!1:!0,this._addItems(t,e,i)},disable:function(){this.enabled=!1},enable:function(t){this.enabled=!0,t!==!1&&this.update()},remove:function(t){if(t.length&&t.jquery){var e=this;return e._shrink(t,function(){var e=this;t.remove(),setTimeout(function(){e.$items=e._getItems(),e.layout(),e._updateItemCount(),e._fire(g.EventType.REMOVED,[t,e]),t=null},0)}),e._processStyleQueue(),e}},destroy:function(){var t=this;t.$window.off("."+t.unique),t.$el.removeClass(c).removeAttr("style").removeData(c),t.$items.removeAttr("style").removeClass("concealed filtered shuffle-item"),t.$window=null,t.$items=null,t.$el=null,t.$sizer=null,t.sizer=null,t.destroyed=!0}},g.options={group:p,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:s,throttleTime:300,sequentialFadeDelay:150,supported:h},g.settings={$sizer:null,useSizer:!1,itemCss:{position:"absolute",top:0,left:0},offset:{top:0,left:0},revealAppendedDelay:300,enabled:!0,destroyed:!1,initialized:!1,styleQueue:[]},t.fn.shuffle=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),s=n.data(c);s||(s=new g(n,e),n.data(c,s)),"string"==typeof e&&s[e]&&s[e].apply(s,i)})},t.fn.sorted=function(e){var n=t.extend({},t.fn.sorted.defaults,e),s=this.get(),r=!1;return s.length?n.randomize?t.fn.sorted.randomize(s):(n.by!==t.noop&&null!==n.by&&n.by!==i&&s.sort(function(e,s){if(r)return 0;var o=n.by(t(e)),a=n.by(t(s));return o===i&&a===i?(r=!0,0):"sortFirst"===o||"sortLast"===a?-1:"sortLast"===o||"sortFirst"===a?1:a>o?-1:o>a?1:0}),r?this.get():(n.reverse&&s.reverse(),s)):[]},t.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},t.fn.sorted.randomize=function(t){var e,i,n=t.length;if(!n)return t;for(;--n;)i=Math.floor(Math.random()*(n+1)),e=t[i],t[i]=t[n],t[n]=e;return t},g});